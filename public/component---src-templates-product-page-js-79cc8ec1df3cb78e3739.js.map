{"version":3,"sources":["webpack:///./src/components/addToCart.js","webpack:///./src/components/productItem.js","webpack:///./src/templates/ProductPage.js"],"names":["AddToCart","state","error","loading","quantity","visible","_handleSubmit","e","product","_this","props","validate","setState","add_cart","setTimeout","toggleMessage","_handleChange","_ref","value","target","test","render","_this2","this","_this$state","react_default","a","createElement","Fragment","Input","type","placeholder","min","step","onChange","action","color","content","icon","onClick","disabled","style","position","Transition","duration","hide","show","Icon","name","React","Component","connect","cart","items","toggle_drawer","productItem","Item","Group","alignItems","Image","size","src","img","alt","Content","Header","Description","paddingBottom","price","description","Extra","addToCart","reviews","map","review","index","key","text","Rating","defaultRating","rating","maxRating","ProductPageTemplate","pageContext","layout","PureComponent"],"mappings":"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","file":"component---src-templates-product-page-js-79cc8ec1df3cb78e3739.js","sourcesContent":["import React from 'react'\r\nimport { Input, Icon, Transition } from 'semantic-ui-react'\r\nimport { add_cart ,toggle_drawer} from '../state/Actions'\r\nimport { connect } from 'react-redux'\r\n\r\nclass AddToCart extends React.Component {\r\n  state = {\r\n    error: '',\r\n    loading: false,\r\n    quantity: 1,\r\n    visible: false,\r\n  }\r\n\r\n  _handleSubmit = e => {\r\n    const { product } = this.props\r\n    const { quantity } = this.state\r\n\r\n    const error = this.validate(quantity)\r\n    this.setState({ error })\r\n    if (!error) {\r\n      this.setState({\r\n        loading: true,\r\n      })\r\n    }\r\n\r\n    this.props.add_cart(product, quantity)\r\n\r\n      setTimeout(\r\n      () =>\r\n        this.setState({\r\n          loading: false,\r\n        }),\r\n      500\r\n    )\r\n  }\r\n\r\n  toggleMessage = () => {\r\n    setTimeout(() => {\r\n      this.setState({ visible: false })\r\n    }, 1000)\r\n  }\r\n\r\n  _handleChange = ({ target: { value } }) => {\r\n    this.setState({\r\n      quantity: value,\r\n    })\r\n  }\r\n\r\n  validate = quantity => {\r\n    let error\r\n    const re = /^[0-9\\b]+$/\r\n\r\n    if (!quantity) error = \"Can't be blank\"\r\n    if (!re.test(quantity)) error = 'Please enter an integer for the quantity'\r\n\r\n    return error\r\n  }\r\n\r\n  render() {\r\n    const { loading, quantity, visible, error } = this.state\r\n    return (\r\n      <React.Fragment>\r\n        <Input\r\n          type=\"number\"\r\n          placeholder=\"Quantity\"\r\n          value={quantity}\r\n          min={1}\r\n          step={1}\r\n          error={!!error}\r\n          onChange={e => this._handleChange(e)}\r\n          action={{\r\n            color: 'orange',\r\n            content: 'Add',\r\n            icon: 'plus cart',\r\n            onClick: e => this._handleSubmit(e),\r\n            loading,\r\n            disabled: loading,\r\n          }}\r\n        />\r\n        {error && (\r\n          <div style={{ color: 'red', position: 'absolute' }}>{error}</div>\r\n        )}\r\n        <Transition duration={{ hide: 500, show: 500 }} visible={visible}>\r\n          <div style={{ color: 'green', position: 'absolute' }}>\r\n            <Icon name=\"check\" />\r\n            Added to cart\r\n          </div>\r\n        </Transition>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    cart: state.cart.items\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  { add_cart, toggle_drawer }\r\n)(AddToCart)\r\n","import React from 'react'\r\nimport { Item, Rating } from 'semantic-ui-react'\r\nimport AddToCart from './addToCart'\r\n\r\nexport default product => (\r\n  <Item.Group>\r\n    <Item style={{ alignItems: 'center'}}>\r\n      <Item.Image size=\"medium\">\r\n        <img src={product.img[0]} alt={product.name} />\r\n      </Item.Image>\r\n      <Item.Content>\r\n        <Item.Header>{product.name}</Item.Header>\r\n        <Item.Description style={{ paddingBottom: '2rem' }}>\r\n          <p>{product.price}$</p>\r\n          <p>{product.description}</p>\r\n        </Item.Description>\r\n        <Item.Extra>\r\n          <AddToCart {...{product}} />\r\n        </Item.Extra>\r\n      </Item.Content>\r\n    </Item>\r\n    { product.reviews.map( (review,index) => \r\n    // TO_DO extend review with id,date and author \r\n    <div key={`review-${index}`}><i>{review.text}</i>\r\n    <Rating icon='heart' defaultRating={review.rating} maxRating={5} />\r\n    </div>)\r\n    }\r\n  </Item.Group>\r\n)\r\n","import React from 'react'\r\nimport ProductItem from '../components/productItem'\r\nimport Layout from '../components/layout'\r\n\r\nclass ProductPageTemplate extends React.PureComponent {\r\n  render() {\r\n    const product = this.props.pageContext.product;\r\n    return (\r\n      <Layout>      <div>\r\n        {/* <Helmet title={slug} /> */}\r\n        <ProductItem {...product}/>\r\n      </div>\r\n      </Layout>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nexport default ProductPageTemplate"],"sourceRoot":""}